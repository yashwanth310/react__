{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\n\n// User Data Type\n\n// Authentication User Type\n\n// State Interface\n\n// Load Data from Local Storage\nconst storedUsers = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\nconst storedUserData = JSON.parse(localStorage.getItem(\"userData\") || \"null\");\nconst storedLoggedInUser = JSON.parse(localStorage.getItem(\"loggedInUser\") || \"null\");\nconst initialState = {\n  user: storedLoggedInUser,\n  registeredUsers: storedUsers,\n  userData: storedUserData // ✅ Now Redux will store user form data\n};\n\n// Create Slice\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    registerUser: (state, action) => {\n      state.registeredUsers.push(action.payload);\n      localStorage.setItem(\"users\", JSON.stringify(state.registeredUsers));\n    },\n    loginUser: (state, action) => {\n      const foundUser = state.registeredUsers.find(u => u.email === action.payload.email && u.password === action.payload.password);\n      if (foundUser) {\n        state.user = foundUser;\n        localStorage.setItem(\"loggedInUser\", JSON.stringify(foundUser)); // ✅ Store logged-in user\n      } else {\n        alert(\"Invalid email or password\");\n      }\n    },\n    logoutUser: state => {\n      state.user = null;\n      localStorage.removeItem(\"loggedInUser\");\n    },\n    saveUserData: (state, action) => {\n      state.userData = action.payload;\n      localStorage.setItem(\"userData\", JSON.stringify(action.payload)); // ✅ Save user form data\n    }\n  }\n});\n\n// Export Actions & Reducer\nexport const {\n  registerUser,\n  loginUser,\n  logoutUser,\n  saveUserData\n} = userSlice.actions;\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","storedUsers","JSON","parse","localStorage","getItem","storedUserData","storedLoggedInUser","initialState","user","registeredUsers","userData","userSlice","name","reducers","registerUser","state","action","push","payload","setItem","stringify","loginUser","foundUser","find","u","email","password","alert","logoutUser","removeItem","saveUserData","actions","reducer"],"sources":["C:/Users/koush/Documents/YASHU/react-assignment/src/components/UserForm.tsx"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\n// User Data Type\r\ninterface User {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  address: string;\r\n  phone: string;\r\n}\r\n\r\n// Authentication User Type\r\ninterface AuthUser {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\n// State Interface\r\ninterface UserState {\r\n  user: AuthUser | null;\r\n  registeredUsers: AuthUser[];\r\n  userData: User | null; // ✅ Added this to store user form data\r\n}\r\n\r\n// Load Data from Local Storage\r\nconst storedUsers = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\r\nconst storedUserData = JSON.parse(localStorage.getItem(\"userData\") || \"null\");\r\nconst storedLoggedInUser = JSON.parse(localStorage.getItem(\"loggedInUser\") || \"null\");\r\n\r\nconst initialState: UserState = {\r\n  user: storedLoggedInUser,\r\n  registeredUsers: storedUsers,\r\n  userData: storedUserData, // ✅ Now Redux will store user form data\r\n};\r\n\r\n// Create Slice\r\nconst userSlice = createSlice({\r\n  name: \"user\",\r\n  initialState,\r\n  reducers: {\r\n    registerUser: (state, action: PayloadAction<AuthUser>) => {\r\n      state.registeredUsers.push(action.payload);\r\n      localStorage.setItem(\"users\", JSON.stringify(state.registeredUsers));\r\n    },\r\n    loginUser: (state, action: PayloadAction<AuthUser>) => {\r\n      const foundUser = state.registeredUsers.find(\r\n        (u) => u.email === action.payload.email && u.password === action.payload.password\r\n      );\r\n      if (foundUser) {\r\n        state.user = foundUser;\r\n        localStorage.setItem(\"loggedInUser\", JSON.stringify(foundUser)); // ✅ Store logged-in user\r\n      } else {\r\n        alert(\"Invalid email or password\");\r\n      }\r\n    },\r\n    logoutUser: (state) => {\r\n      state.user = null;\r\n      localStorage.removeItem(\"loggedInUser\");\r\n    },\r\n    saveUserData: (state, action: PayloadAction<User>) => {\r\n      state.userData = action.payload;\r\n      localStorage.setItem(\"userData\", JSON.stringify(action.payload)); // ✅ Save user form data\r\n    },\r\n  },\r\n});\r\n\r\n// Export Actions & Reducer\r\nexport const { registerUser, loginUser, logoutUser, saveUserData } = userSlice.actions;\r\nexport default userSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAuB,kBAAkB;;AAE7D;;AASA;;AAMA;;AAOA;AACA,MAAMC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC;AACrE,MAAMC,cAAc,GAAGJ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,IAAI,MAAM,CAAC;AAC7E,MAAME,kBAAkB,GAAGL,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,IAAI,MAAM,CAAC;AAErF,MAAMG,YAAuB,GAAG;EAC9BC,IAAI,EAAEF,kBAAkB;EACxBG,eAAe,EAAET,WAAW;EAC5BU,QAAQ,EAAEL,cAAc,CAAE;AAC5B,CAAC;;AAED;AACA,MAAMM,SAAS,GAAGZ,WAAW,CAAC;EAC5Ba,IAAI,EAAE,MAAM;EACZL,YAAY;EACZM,QAAQ,EAAE;IACRC,YAAY,EAAEA,CAACC,KAAK,EAAEC,MAA+B,KAAK;MACxDD,KAAK,CAACN,eAAe,CAACQ,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC;MAC1Cf,YAAY,CAACgB,OAAO,CAAC,OAAO,EAAElB,IAAI,CAACmB,SAAS,CAACL,KAAK,CAACN,eAAe,CAAC,CAAC;IACtE,CAAC;IACDY,SAAS,EAAEA,CAACN,KAAK,EAAEC,MAA+B,KAAK;MACrD,MAAMM,SAAS,GAAGP,KAAK,CAACN,eAAe,CAACc,IAAI,CACzCC,CAAC,IAAKA,CAAC,CAACC,KAAK,KAAKT,MAAM,CAACE,OAAO,CAACO,KAAK,IAAID,CAAC,CAACE,QAAQ,KAAKV,MAAM,CAACE,OAAO,CAACQ,QAC3E,CAAC;MACD,IAAIJ,SAAS,EAAE;QACbP,KAAK,CAACP,IAAI,GAAGc,SAAS;QACtBnB,YAAY,CAACgB,OAAO,CAAC,cAAc,EAAElB,IAAI,CAACmB,SAAS,CAACE,SAAS,CAAC,CAAC,CAAC,CAAC;MACnE,CAAC,MAAM;QACLK,KAAK,CAAC,2BAA2B,CAAC;MACpC;IACF,CAAC;IACDC,UAAU,EAAGb,KAAK,IAAK;MACrBA,KAAK,CAACP,IAAI,GAAG,IAAI;MACjBL,YAAY,CAAC0B,UAAU,CAAC,cAAc,CAAC;IACzC,CAAC;IACDC,YAAY,EAAEA,CAACf,KAAK,EAAEC,MAA2B,KAAK;MACpDD,KAAK,CAACL,QAAQ,GAAGM,MAAM,CAACE,OAAO;MAC/Bf,YAAY,CAACgB,OAAO,CAAC,UAAU,EAAElB,IAAI,CAACmB,SAAS,CAACJ,MAAM,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC;IACpE;EACF;AACF,CAAC,CAAC;;AAEF;AACA,OAAO,MAAM;EAAEJ,YAAY;EAAEO,SAAS;EAAEO,UAAU;EAAEE;AAAa,CAAC,GAAGnB,SAAS,CAACoB,OAAO;AACtF,eAAepB,SAAS,CAACqB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}